<!DOCTYPE html>
<html>
  <head>
    <title> Advanced Functions</title>
    
    <style>
     
    </style>

  </head>

  <body>
    
    <button onclick="" class="js-button">Click</button>

    <script>

      const buttonElement = document.querySelector('.js-button');

      const eventLister = () => {
        console.log('clicked');
      }

      // param 1: the event name
      // param 2: the function to run
      buttonElement.addEventListener('click', eventLister);

      // param 1: the event name
      // param 2: the function to remove
      buttonElement.removeEventListener('click', eventLister); // remove listeners from an event

      
      buttonElement.addEventListener('click', () => { // it is possible to have multiple listeners for one event
        console.log('clicked2');
      });





/*
      greeting();

      // this type of function can be 'hoisted' and called before the function itself has been declared
      function greeting() {
        console.log('hello');
      }

      greeting();

      // functions are values. and can be saved within a variable
      const function1 = function greeting() { // the function name 'greeting()' isn't needed
        console.log('hello2');
      };

      // can be written as the following, Anonymous function
      const function2 = function() {
        console.log('hello4');
      };

      console.log(function1);
      console.log(typeof function1); // returns function
      function1(); // calls the function stored in the variable

      const object1 = {
        num: 2,
        fun: function greeting() {
          console.log('hello5');
        }
      };

      object1.fun(); // calls the method. A method is a function saved inside an object

      function display(param) {
        console.log(param);
      }

      display(2); // passing a value into a function

      // it is possible to pass a function as a parameter for a function
      function run(param) {
        param(); // the input param can be called as a function using ()
      }

      // create a function to be passed in as a param
      // the function we are passing in is called a CALLBACK FUNCTION or CALLBACK
      run(function() {
        console.log('hello8');
      });


      // ASYNCHRONOUS CODE : the computer won't wait for a line to finish before going on to the next line
      // SYNCHRONOUS CODE : vice versa

      // param 1 : function to be called
      // param 2 : time in miliseconds before param1 is called
      setTimeout(function () {
        console.log('timeout'); // 2nd
        console.log('timeout2'); // 3rd
      }, 3000);

      console.log('next line'); // 1st

      // setInterval is another asynchronous function that will keep on calling the param1 function every param2 seconds
      // param 1 : function to be called
      // param 2 : time in miliseconds before param1 is called
      setInterval(function() {
        console.log('interval');
      }, 3000);

    // foreach() allows us to loop through this array. preferred way to loop through an array
    // foreach loops don't have a continue, so a return is used. This will NOT exit the loop
    // thre is no easy way to 'break' a foreach loop. in that case a regular for loop is better suited
      [
        'make dinner',
        'wash dishes',
        'watch youtube',
      ].forEach((value, index) => {  // arrow functions are used for foreach loops for readability
        // foreach loops through the array, and for reach of the arrays values it will save the value in the parameter and run the function
        
        if (value === 'wash dishes') {
          return; // foreach loops don't have a continue, so a return is used
        }
        console.log(index);
        console.log(value);
      }); 


      // The two functions below operate in the same manner
      const regularFunction = function(param, param2) {
        console.log('hello');
        return 5;
      };

      // ARROW FUNCTIONS
      // arrow functions cannot be hoisted
      // arrow functions are a shorthand way to write a function
      const arrowFunction = (param, param2) => {
        console.log('hello');
        return 5;
      };

      arrowFunction();

      // if an arrow function only has one param, the brackets for the parameter are optional
      // const oneParam = (param) => //
      const oneParam = param => { 
        console.log(param + 1);
      };
      oneParam(3);

      // when the arrow function only has one line it can be written on one line
      const oneLine = () => {
        return 2 + 3;
      }

      const oneLiner = () => 2 + 3;
      console.log(oneLiner());

      // it is possible to save an arrow function within an object but the shorthand method() is used instead
      const object2 = {
        method: () => {

        },
        method() {

        }
      };
*/
      // FILTER
      // filter works sililar to a foreach loop
      // it creates a new array[], loops through, returns true => put value in array, returns false => don't put value in array
      console.log([1, -2, 5].filter((value, index) => { // filter out negaitive numbers
        // if (value >= 0) {
        //   return true;
        // } else {
        //   return false;
        // }
        return value >= 0; // shorthand for the above
      })); 

      // MAP
      // creates a new array[], whatever we return => add it to new array
      // .mpa() will transform an array into anothter array based on the return value
      console.log([1,1,3].map((value, index) => {
        return value + 10;
      }));

      console.log([1,1,3].map(value => value + 10)); // shorthand for above

      // Closure : if a function has access to a value, it will always have access to that value
      // the value gets packaged together(enclosed) with the function
      // e.g. index or i in foreach loops


    </script>

  </body>
</html>




